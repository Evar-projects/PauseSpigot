From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Permisos <ido@terrorist.services>
Date: Wed, 3 Aug 2022 20:00:29 -0300
Subject: [PATCH] Fix CraftEntity hashCode


diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftEntity.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftEntity.java
index 4f9179908e2cd74d6170a614a0971ef0f9ddaafa..c788761b67c53afa4e5b177085d00ed697f2db4b 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftEntity.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftEntity.java
@@ -400,14 +400,12 @@ public abstract class CraftEntity implements org.bukkit.entity.Entity {
             return false;
         }
         final CraftEntity other = (CraftEntity) obj;
-        return (this.getEntityId() == other.getEntityId());
+        return (this.getHandle() == other.getHandle()); // Paper - while logically the same, this is clearer
     }
 
     @Override
     public int hashCode() {
-        int hash = 7;
-        hash = 29 * hash + this.getEntityId();
-        return hash;
+        return getUniqueId().hashCode();
     }
 
     public void setMetadata(String metadataKey, MetadataValue newMetadataValue) {
